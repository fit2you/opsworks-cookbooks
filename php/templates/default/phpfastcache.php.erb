<?php
// phpFastCache Library
require_once("<%= @php_fastcache_lib %>");

// OK, setup your cache
phpFastCache::$config = array(
    "storage"   =>  '<%= @php_fastcache[:storage] %>', // auto, files, sqlite, apc, cookie, memcache, memcached, predis, redis, wincache, xcache
    "default_chmod" => 0777, // For security, please use 0666 for module and 0644 for cgi.
    "htaccess" => true,
    "path" =>  "<%= @php_fastcache_path %>",
    "securityKey" =>  "auto", // auto will use domain name, set it to 1 string if you use alias domain name



<% if @php_fastcache[:memcached].is_a?(Hash) %>
    // MEMCACHE

    "memcache" =>  array(
        array("<%= @php_fastcache[:memcached][:host] %>",<%= @php_fastcache[:memcached][:port] %>,<%= @php_fastcache[:memcached][:timeout] %>),
    ),

<% end %>

<% if @php_fastcache[:redis].is_a?(Hash) %>
    // REDIS
    "redis"         =>  array(
        "host"  => "<%= @php_fastcache[:redis][:host] %>",
        "port"  =>  "<%= @php_fastcache[:redis][:port] %>",
        "password"  =>  "<%= @php_fastcache[:redis][:password] %>",
        "database"  =>  "<%= @php_fastcache[:redis][:database] %>",
        "timeout"   =>  "<%= @php_fastcache[:redis][:timeout] %>"
    ),
<% end %>

    "extensions"    =>  array(),
    "fallback"  => "files",

);


// temporary disabled phpFastCache
phpFastCache::$disabled = <%= @php_fastcache[:disabled] %>;


